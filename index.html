<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Dua Lipa — Houdini Player</title>
<style>
body {
  margin:0;
  font-family:"Inter",sans-serif;
  background:#0f4f54;
  color:#fff;
}
button{cursor:pointer;}

/* ===== LYRIC ===== */
#lyrics-wrap { max-width:720px; margin:60px auto; font-size:1.3rem; line-height:1.8; }
.lyric-line { padding:4px; color:#ccc; transition:all .18s; }
.lyric-line.active { color:#000; font-weight:900; background:linear-gradient(90deg,#40E0D0,#0f4f54); border-radius:4px; padding:4px 8px; }

/* ===== MINI PLAYER ===== */
#mini-player{
  position:fixed; left:12px; right:12px; bottom:12px;
  background:linear-gradient(90deg,#40E0D0,#0f4f54); padding:12px; border-radius:12px;
  display:flex; align-items:center; justify-content:space-between; gap:12px; box-shadow:0 12px 36px rgba(0,0,0,.5); z-index:1500;
}
.mini-left{display:flex;align-items:center;gap:12px}
.mini-meta{overflow:hidden;min-width:0;}
.mini-title{font-weight:800;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:260px;}
.mini-controls{display:flex;align-items:center;gap:8px;}
.mini-controls button{width:40px;height:40px;border-radius:50%;border:0;background:#222;color:#fff;font-size:18px;}

/* ===== FULLSCREEN PLAYER ===== */
#fullscreen-player{
  position:fixed; inset:0; display:none; align-items:flex-end; justify-content:flex-end; z-index:2000; overflow:hidden;
}
#fullscreen-info{
  position:relative; z-index:1500; width:100%; padding:36px 30px;
  background:linear-gradient(90deg,#40E0D0,#0f4f54); border-top-left-radius:18px; border-top-right-radius:18px;
  box-shadow:0 -18px 60px rgba(0,0,0,.25);
}
.info-row{display:flex;align-items:center;justify-content:space-between;gap:16px;}
.controls button{width:52px;height:52px;border-radius:50%;border:0;background:#222;color:#fff;font-size:20px;cursor:pointer;box-shadow:0 8px 30px rgba(0,0,0,.2);}
.controls button:hover{transform:scale(1.04);background:#40E0D0;}
#time-big{font-size:2.3rem;font-weight:900;color:#000;min-width:160px;text-align:right;}
</style>
</head>
<body>

<div id="lyrics-wrap">
  <div class="lyric-line" data-time="0">[Intro]</div>
  <div class="lyric-line" data-time="0.5">Okay</div>
  <div class="lyric-line" data-time="1.5">Mm, ah</div>

  <div class="lyric-line" data-time="3">[Chorus]</div>
  <div class="lyric-line" data-time="3.5">I come and I go</div>
  <div class="lyric-line" data-time="5">Tell me all the ways you need me</div>
  <div class="lyric-line" data-time="7">I'm not here for long</div>
  <div class="lyric-line" data-time="9">Catch me or I go Houdini</div>
  <div class="lyric-line" data-time="11">I come and I go</div>
  <div class="lyric-line" data-time="12.5">Prove you got the right to please me</div>
  <div class="lyric-line" data-time="14">Everybody knows</div>
  <div class="lyric-line" data-time="15.5">Catch me or I go Houdini</div>
</div>

<!-- MINI PLAYER -->
<div id="mini-player">
  <div class="mini-left">
    <div class="mini-meta">
      <div id="mini-title" class="mini-title">Houdini</div>
      <div id="mini-time">0:00 / 0:00</div>
    </div>
  </div>
  <div class="mini-controls">
    <button id="mini-play">▶</button>
  </div>
</div>

<!-- FULLSCREEN PLAYER -->
<div id="fullscreen-player">
  <div id="fullscreen-info">
    <div class="info-row">
      <div class="title-big">Houdini</div>
      <div style="display:flex;align-items:center;gap:16px">
        <div id="time-big">0:00 / 0:00</div>
        <div class="controls">
          <button id="play-btn">▶</button>
        </div>
      </div>
    </div>
  </div>
</div>

<audio id="audio" src="kouzelník.mp3"></audio>

<script>
const audio = document.getElementById('audio');
const lyricNodes = Array.from(document.querySelectorAll('.lyric-line'));
const miniPlay = document.getElementById('mini-play');
const playBtn = document.getElementById('play-btn');
const miniTime = document.getElementById('mini-time');
const timeBig = document.getElementById('time-big');

miniPlay.addEventListener('click', () => {
  if(audio.paused) audio.play();
  else audio.pause();
});
playBtn.addEventListener('click', () => {
  if(audio.paused) audio.play();
  else audio.pause();
});

audio.addEventListener('timeupdate', () => {
  const currentTime = audio.currentTime;
  let active = -1;
  lyricNodes.forEach((line, idx) => {
    const t = parseFloat(line.dataset.time);
    if(currentTime >= t) active = idx;
  });
  lyricNodes.forEach((line, idx) => {
    line.classList.toggle('active', idx === active);
  });

  // čas
  const formatTime = t => {
    if(isNaN(t)) return "0:00";
    let m = Math.floor(t/60), s = Math.floor(t%60);
    return m+":"+(s<10?"0"+s:s);
  };
  miniTime.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
  timeBig.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
});
</script>

</body>
</html>
